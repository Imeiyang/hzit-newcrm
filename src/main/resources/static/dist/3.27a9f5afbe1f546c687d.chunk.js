webpackJsonp([3],{51:function(e,t,n){n(72);var i=n(17)(n(63),n(78),null,null);i.options.__file="J:\\VUE资料\\iview学习\\demo\\src\\views\\grant\\user\\user.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] user.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){var e=this;return{employeeColumn:[{type:"selection",width:60,align:"center"},{title:"姓名",key:"name",render:function(e,t){return e("div",[e("Icon",{props:{type:"person"}}),e("strong",t.row.name)])},width:120},{title:"微信号",key:"wechatNo",width:120},{title:"性别",key:"gender",width:70,align:"center",render:function(e,t){var n=void 0,i=void 0;return"1"===t.row.gender?(n="man",i="#0099FF"):"2"===t.row.gender?(n="woman",i="deeppink"):(n="help",i="orange"),e("div",[e("Icon",{props:{type:n,size:17,color:i}})])}},{title:"电话号码",key:"tel",width:130},{title:"启用",key:"isLocked",align:"center",width:70,render:function(e,t){var n=void 0,i=void 0;return"0"===t.row.isLocked?(i="checkmark-circled",n="green"):"1"===t.row.isLocked&&(i="close-circled",n="red"),e("Icon",{props:{type:i,size:16,color:n}})}},{title:"咨询师",key:"isConsultant",width:80,align:"center",render:function(e,t){var n=void 0,i=void 0;return"0"===t.row.isConsultant?(i="close-circled",n="red"):"1"===t.row.isConsultant&&(i="checkmark-circled",n="green"),e("Icon",{props:{type:i,size:16,color:n}})}},{title:"激活邮箱",key:"isEmailActive",width:90,align:"center",render:function(e,t){var n=void 0,i=void 0;return"0"===t.row.isEmailActive?(i="close-circled",n="red"):"1"===t.row.isEmailActive&&(i="checkmark-circled",n="green"),e("Icon",{props:{type:i,size:16,color:n}})}},{title:"邮箱",key:"email",width:180,ellipsis:!0},{title:"角色",key:"roleName",width:90},{title:"操作",key:"action",align:"center",render:function(t,n){return t("div",[t("Button",{props:{type:"primary",size:"small",icon:"ios-search-strong",shape:"circle"},style:{marginRight:"5px"},on:{click:function(){e.show(n.index)}},nativeOn:{mouseenter:function(){e.$Message.info("显示数据!")}}}),t("Button",{props:{type:"success",size:"small",icon:"android-settings",shape:"circle"},style:{marginRight:"5px"},on:{click:function(){e.grant(n.index)}},nativeOn:{mouseenter:function(){e.$Message.info("授予角色!")}}}),t("Button",{props:{type:"warning",icon:"edit",size:"small",shape:"circle"},style:{marginRight:"5px"},on:{click:function(){e.editUser(n.index)}},nativeOn:{mouseenter:function(){e.$Message.info("修改用户!")}}}),t("Button",{props:{type:"error",size:"small",icon:"trash-a",shape:"circle"},on:{click:function(){e.remove(n.index)}},nativeOn:{mouseenter:function(){e.$Message.info("删除用户!")}}})])}}],employeeData:[],userTotal:0,pageSize:15,currentPage:1}},mounted:function(){this.$Message.config({top:85}),this.getAjaxData(0,this.pageSize)},methods:{getAjaxData:function(e,t){var n=this;n.$Message.loading({content:"正在拼命加载数据...",top:300,duration:30}),n.$axios.get("http://localhost:8090/employee/getEmployeeList?limit="+e+"&size="+t).then(function(e){n.$Message.destroy(),n.employeeData=e.data.records,n.userTotal=e.data.total})},show:function(e){this.$Modal.info({title:"用户信息",content:"<h3>姓名:"+this.employeeData[e].name+"</h3>\n                 <h3>微信号:"+this.employeeData[e].wechatNo+"</h3>\n                 <h3>电话号码:"+this.employeeData[e].tel+"</h3>\n                 <h3>邮箱:"+this.employeeData[e].email+"</h3>\n                 <h3>角色名称"+this.employeeData[e].roleName+"</h3>"})},remove:function(e){var t=this;t.$Modal.confirm({title:"确认操作",content:"<h2>是否删除该数据!</h2>",loading:!0,onOk:function(){console.log(e);var n=t.employeeData[e].userId;console.log(n),t.$axios.get("http://localhost:8090/employee/removeEmployee?userId="+n).then(function(n){600===n.data.code?(t.$Modal.remove(),t.success(n.data.msg),t.employeeData.splice(e,1)):t.error(n.data.msg)})},onCancel:function(){t.$Message.info("取消删除数据!")}})},editUser:function(e){var t=this.employeeData[e].userId;this.$router.push({path:"/manager/user/editUser",query:{userId:t}})},grant:function(e){alert("角色授权")},changePage:function(e){this.getAjaxData(e,this.pageSize),this.currentPage=e},changeSize:function(e){this.pageSize=e},success:function(e){this.$Notice.success({title:"处理结果",desc:e})},error:function(e){this.$Notice.error({title:"处理结果",desc:e})},refresh:function(){this.getAjaxData(this.currentPage,this.pageSize)}}}},72:function(e,t){},78:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"user"}},[n("div",{staticClass:"toolbar"},[n("router-link",{attrs:{to:"/manager/user/addUser",icon:"plus"}},[n("Button",{attrs:{size:"small",type:"primary",icon:"plus"}},[e._v("添加")])],1),e._v(" "),n("Button",{attrs:{size:"small",type:"warning",icon:"close-circled"}},[e._v("批量删除")]),e._v(" "),n("Input",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请输入姓名搜索!"}}),e._v(" "),n("Button",{attrs:{size:"small",type:"primary",icon:"search"},on:{click:function(t){e.handleSubmit("formInline")}}},[e._v("搜索")]),e._v(" "),n("Button",{attrs:{size:"small",icon:"loop"},on:{click:e.refresh}},[e._v("刷新")])],1),e._v(" "),n("router-view"),e._v(" "),n("Table",{attrs:{size:"small","highlight-row":!0,border:!0,columns:e.employeeColumn,data:e.employeeData}}),e._v(" "),n("div",{staticStyle:{margin:"10px"}},[n("div",{staticStyle:{float:"right"}},[n("Page",{attrs:{total:e.userTotal,placement:"top","show-sizer":"","show-elevator":"","page-size":15,"page-size-opts":[5,10,15,30,50,100]},on:{"on-change":e.changePage,"on-page-size-change":e.changeSize}})],1)])],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});